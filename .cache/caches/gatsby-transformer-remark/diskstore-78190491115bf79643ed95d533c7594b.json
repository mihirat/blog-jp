{"expireTime":9007200845577682000,"key":"transformer-remark-markdown-ast-dc83dabd2b5784d7e86846b05177c692-gatsby-plugin-sharpgatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-emojis-","val":{"type":"root","children":[{"type":"paragraph","children":[{"type":"text","value":"日本語の情報が全然ないうえ、英語の情報もけっこう少なくてわかりにくかったので\nPeter Corke氏のRobotic Toolboxの使い方を紹介したいと思います。チュートリアルっぽく。","position":{"start":{"line":3,"column":1,"offset":2},"end":{"line":4,"column":56,"offset":96},"indent":[1]}}],"position":{"start":{"line":3,"column":1,"offset":2},"end":{"line":4,"column":56,"offset":96},"indent":[1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Robotics Toolboxとは","position":{"start":{"line":6,"column":4,"offset":101},"end":{"line":6,"column":22,"offset":119},"indent":[]}}],"position":{"start":{"line":6,"column":1,"offset":98},"end":{"line":6,"column":22,"offset":119},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"無料で使える、ロボットのシミュレーション用のモデルやその運動の計算関数などがまとめて提供されているライブラリ。ロボットのモデルを作る、逆運動学や動力学の計算をする、動作のアニメーションをとる、などが簡単にできます。\nネットに出回っているような動力学の式を書く必要もないので、すぐにシミュレーションに移れます。あらかじめロボットのモデルもいくつか提供されており、ほんとにすぐに使えます。マジ便利。","position":{"start":{"line":8,"column":1,"offset":121},"end":{"line":9,"column":90,"offset":318},"indent":[1]}}],"position":{"start":{"line":8,"column":1,"offset":121},"end":{"line":9,"column":90,"offset":318},"indent":[1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"始めかた","position":{"start":{"line":11,"column":5,"offset":324},"end":{"line":11,"column":9,"offset":328},"indent":[]}}],"position":{"start":{"line":11,"column":1,"offset":320},"end":{"line":11,"column":9,"offset":328},"indent":[]}},{"type":"paragraph","children":[{"type":"link","title":null,"url":"http://petercorke.com/Robotics_Toolbox.html","children":[{"type":"text","value":"Robotics Toolbox ダウンロードサイト","position":{"start":{"line":13,"column":2,"offset":331},"end":{"line":13,"column":28,"offset":357},"indent":[]}}],"position":{"start":{"line":13,"column":1,"offset":330},"end":{"line":13,"column":74,"offset":403},"indent":[]}},{"type":"text","value":"\nまず上記サイトへ行き、“Downloading Toolbox”の項から文章中のリンク”here”をクリックする。\n学生、企業社会人、その他など選択して登録する。\n","position":{"start":{"line":13,"column":74,"offset":403},"end":{"line":16,"column":1,"offset":486},"indent":[1,1,1]}},{"type":"link","title":null,"url":"http://techeten.xyz/wp-content/uploads/2015/10/Robot.png","children":[{"type":"image","title":null,"url":"http://techeten.xyz/wp-content/uploads/2015/10/Robot-300x137.png","alt":"Robot","position":{"start":{"line":16,"column":2,"offset":487},"end":{"line":16,"column":76,"offset":561},"indent":[]}}],"position":{"start":{"line":16,"column":1,"offset":486},"end":{"line":16,"column":135,"offset":620},"indent":[]}}],"position":{"start":{"line":13,"column":1,"offset":330},"end":{"line":16,"column":135,"offset":620},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"登録するとzipがダウンロードできる。解凍して、“rvctools” ごとまとめてMatlabの好きなディレクトリに移動。\nMatlab上で使うときは、右クリックして「パスに追加　＞　選択フォルダとサブフォルダ」を使うか、\nrvctools > startup_rvs.m を走らせる。","position":{"start":{"line":18,"column":1,"offset":622},"end":{"line":20,"column":32,"offset":765},"indent":[1,1]}}],"position":{"start":{"line":18,"column":1,"offset":622},"end":{"line":20,"column":32,"offset":765},"indent":[1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"モデルの作り方","position":{"start":{"line":22,"column":5,"offset":771},"end":{"line":22,"column":12,"offset":778},"indent":[]}}],"position":{"start":{"line":22,"column":1,"offset":767},"end":{"line":22,"column":12,"offset":778},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"基本的にはDHパラメータ記法に従って記述する…らしいがよくわからないので探り探り。\nロボットのモデルを作るには、SerialLinkという関数に、足したい自由度の数だけLinkオブジェクトを渡します。\nとりあえず３自由度アームのサンプルコードを：","position":{"start":{"line":24,"column":1,"offset":780},"end":{"line":26,"column":23,"offset":903},"indent":[1,1]}}],"position":{"start":{"line":24,"column":1,"offset":780},"end":{"line":26,"column":23,"offset":903},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"linkReference","identifier":"matlab","referenceType":"shortcut","children":[{"type":"text","value":"matlab","position":{"start":{"line":28,"column":2,"offset":906},"end":{"line":28,"column":8,"offset":912},"indent":[]}}],"position":{"start":{"line":28,"column":1,"offset":905},"end":{"line":28,"column":9,"offset":913},"indent":[]}},{"type":"text","value":"\nfunction robot = generate3DoF()","position":{"start":{"line":28,"column":9,"offset":913},"end":{"line":29,"column":32,"offset":945},"indent":[1]}}],"position":{"start":{"line":28,"column":1,"offset":905},"end":{"line":29,"column":32,"offset":945},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"% robot length values, mass, diameter\nlen = ","position":{"start":{"line":31,"column":1,"offset":947},"end":{"line":32,"column":7,"offset":991},"indent":[1]}},{"type":"linkReference","identifier":"0 50 50","referenceType":"shortcut","children":[{"type":"text","value":"0 50 50","position":{"start":{"line":32,"column":8,"offset":992},"end":{"line":32,"column":15,"offset":999},"indent":[]}}],"position":{"start":{"line":32,"column":7,"offset":991},"end":{"line":32,"column":16,"offset":1000},"indent":[]}},{"type":"text","value":";　%次の関節までの長さ。一つの部位に複数自由度を持たせる時は、(自由度数-1)だけ0が続く\nmass = 1.0;　%関節同士を繋ぐ円柱の質量。今回は全部同じ値\ndia = 2.0; % 円柱の直径","position":{"start":{"line":32,"column":16,"offset":1000},"end":{"line":34,"column":19,"offset":1100},"indent":[1,1]}}],"position":{"start":{"line":31,"column":1,"offset":947},"end":{"line":34,"column":19,"offset":1100},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"% inertia matrix: 慣性マトリクス。対角成分だけあれば一応動力学のトルク計算は出来るらしい\nIxx = (dia^2 / 4 + len.^2 /12 ) * mass;\nIyy = Ixx;\nIzz = mass * dia^2 / 2;\n% 関節の可動範囲指定。デフォルト（無指定）は[]と等しい\njointFix = ","position":{"start":{"line":36,"column":1,"offset":1102},"end":{"line":41,"column":12,"offset":1272},"indent":[1,1,1,1,1]}},{"type":"linkReference","identifier":"-1.5 1.5","referenceType":"shortcut","children":[{"type":"text","value":"-1.5 1.5","position":{"start":{"line":41,"column":13,"offset":1273},"end":{"line":41,"column":21,"offset":1281},"indent":[]}}],"position":{"start":{"line":41,"column":12,"offset":1272},"end":{"line":41,"column":22,"offset":1282},"indent":[]}},{"type":"text","value":";","position":{"start":{"line":41,"column":22,"offset":1282},"end":{"line":41,"column":23,"offset":1283},"indent":[]}}],"position":{"start":{"line":36,"column":1,"offset":1102},"end":{"line":41,"column":23,"offset":1283},"indent":[1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"%% Link params\nL(1) = Revolute(‘m’, mass, ‘I’, ","position":{"start":{"line":43,"column":1,"offset":1285},"end":{"line":44,"column":33,"offset":1332},"indent":[1]}},{"type":"linkReference","identifier":"ixx(1), iyy(1), izz","referenceType":"shortcut","children":[{"type":"text","value":"Ixx(1), Iyy(1), Izz","position":{"start":{"line":44,"column":34,"offset":1333},"end":{"line":44,"column":53,"offset":1352},"indent":[]}}],"position":{"start":{"line":44,"column":33,"offset":1332},"end":{"line":44,"column":54,"offset":1353},"indent":[]}},{"type":"text","value":",‘r’,","position":{"start":{"line":44,"column":54,"offset":1353},"end":{"line":44,"column":59,"offset":1358},"indent":[]}},{"type":"linkReference","identifier":"0,0,len(1)/2","referenceType":"shortcut","children":[{"type":"text","value":"0,0,len(1)/2","position":{"start":{"line":44,"column":60,"offset":1359},"end":{"line":44,"column":72,"offset":1371},"indent":[]}}],"position":{"start":{"line":44,"column":59,"offset":1358},"end":{"line":44,"column":73,"offset":1372},"indent":[]}},{"type":"text","value":", ‘qlim’,jointFix,‘alpha’, pi/2, ‘a’, len(1), ‘d’, 0);\nL(2) = Revolute(‘m’, mass, ‘I’, ","position":{"start":{"line":44,"column":73,"offset":1372},"end":{"line":45,"column":33,"offset":1459},"indent":[1]}},{"type":"linkReference","identifier":"ixx(2), iyy(2), izz","referenceType":"shortcut","children":[{"type":"text","value":"Ixx(2), Iyy(2), Izz","position":{"start":{"line":45,"column":34,"offset":1460},"end":{"line":45,"column":53,"offset":1479},"indent":[]}}],"position":{"start":{"line":45,"column":33,"offset":1459},"end":{"line":45,"column":54,"offset":1480},"indent":[]}},{"type":"text","value":",‘r’,","position":{"start":{"line":45,"column":54,"offset":1480},"end":{"line":45,"column":59,"offset":1485},"indent":[]}},{"type":"linkReference","identifier":"0,0,len(2)/2","referenceType":"shortcut","children":[{"type":"text","value":"0,0,len(2)/2","position":{"start":{"line":45,"column":60,"offset":1486},"end":{"line":45,"column":72,"offset":1498},"indent":[]}}],"position":{"start":{"line":45,"column":59,"offset":1485},"end":{"line":45,"column":73,"offset":1499},"indent":[]}},{"type":"text","value":",‘qlim’,[],‘alpha’, 0, ‘a’, len(2), ‘d’, 0);\nL(3) = Revolute(‘m’, mass, ‘I’, ","position":{"start":{"line":45,"column":73,"offset":1499},"end":{"line":46,"column":33,"offset":1576},"indent":[1]}},{"type":"linkReference","identifier":"ixx(3), iyy(3), izz","referenceType":"shortcut","children":[{"type":"text","value":"Ixx(3), Iyy(3), Izz","position":{"start":{"line":46,"column":34,"offset":1577},"end":{"line":46,"column":53,"offset":1596},"indent":[]}}],"position":{"start":{"line":46,"column":33,"offset":1576},"end":{"line":46,"column":54,"offset":1597},"indent":[]}},{"type":"text","value":",‘r’,","position":{"start":{"line":46,"column":54,"offset":1597},"end":{"line":46,"column":59,"offset":1602},"indent":[]}},{"type":"linkReference","identifier":"0,0,len(3)/2","referenceType":"shortcut","children":[{"type":"text","value":"0,0,len(3)/2","position":{"start":{"line":46,"column":60,"offset":1603},"end":{"line":46,"column":72,"offset":1615},"indent":[]}}],"position":{"start":{"line":46,"column":59,"offset":1602},"end":{"line":46,"column":73,"offset":1616},"indent":[]}},{"type":"text","value":",‘qlim’,[],‘alpha’, -pi/2, ‘a’, len(3), ‘d’, 0);","position":{"start":{"line":46,"column":73,"offset":1616},"end":{"line":46,"column":121,"offset":1664},"indent":[]}}],"position":{"start":{"line":43,"column":1,"offset":1285},"end":{"line":46,"column":121,"offset":1664},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"% build a serial link manipulator","position":{"start":{"line":48,"column":1,"offset":1666},"end":{"line":48,"column":34,"offset":1699},"indent":[]}}],"position":{"start":{"line":48,"column":1,"offset":1666},"end":{"line":48,"column":34,"offset":1699},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"robot = SerialLink(L, ‘name’, ‘3DoF’);\n","position":{"start":{"line":50,"column":1,"offset":1701},"end":{"line":51,"column":1,"offset":1740},"indent":[1]}},{"type":"linkReference","identifier":"/matlab","referenceType":"shortcut","children":[{"type":"text","value":"/matlab","position":{"start":{"line":51,"column":2,"offset":1741},"end":{"line":51,"column":9,"offset":1748},"indent":[]}}],"position":{"start":{"line":51,"column":1,"offset":1740},"end":{"line":51,"column":10,"offset":1749},"indent":[]}}],"position":{"start":{"line":50,"column":1,"offset":1701},"end":{"line":51,"column":10,"offset":1749},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"これを\n","position":{"start":{"line":53,"column":1,"offset":1751},"end":{"line":54,"column":1,"offset":1755},"indent":[1]}},{"type":"linkReference","identifier":"matlab","referenceType":"shortcut","children":[{"type":"text","value":"matlab","position":{"start":{"line":54,"column":2,"offset":1756},"end":{"line":54,"column":8,"offset":1762},"indent":[]}}],"position":{"start":{"line":54,"column":1,"offset":1755},"end":{"line":54,"column":9,"offset":1763},"indent":[]}},{"type":"text","value":"\nrobot = generate3DoF();\nrobot.plot(","position":{"start":{"line":54,"column":9,"offset":1763},"end":{"line":56,"column":12,"offset":1799},"indent":[1,1]}},{"type":"linkReference","identifier":"0 0 0","referenceType":"shortcut","children":[{"type":"text","value":"0 0 0","position":{"start":{"line":56,"column":13,"offset":1800},"end":{"line":56,"column":18,"offset":1805},"indent":[]}}],"position":{"start":{"line":56,"column":12,"offset":1799},"end":{"line":56,"column":19,"offset":1806},"indent":[]}},{"type":"text","value":");　% 各自由度の初期値\n","position":{"start":{"line":56,"column":19,"offset":1806},"end":{"line":57,"column":1,"offset":1820},"indent":[1]}},{"type":"linkReference","identifier":"/matlab","referenceType":"shortcut","children":[{"type":"text","value":"/matlab","position":{"start":{"line":57,"column":2,"offset":1821},"end":{"line":57,"column":9,"offset":1828},"indent":[]}}],"position":{"start":{"line":57,"column":1,"offset":1820},"end":{"line":57,"column":10,"offset":1829},"indent":[]}}],"position":{"start":{"line":53,"column":1,"offset":1751},"end":{"line":57,"column":10,"offset":1829},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"みたいに実行して","position":{"start":{"line":59,"column":1,"offset":1831},"end":{"line":59,"column":9,"offset":1839},"indent":[]}}],"position":{"start":{"line":59,"column":1,"offset":1831},"end":{"line":59,"column":9,"offset":1839},"indent":[]}},{"type":"paragraph","children":[{"type":"link","title":null,"url":"http://techeten.xyz/wp-content/uploads/2015/10/3DoF.png","children":[{"type":"image","title":null,"url":"http://techeten.xyz/wp-content/uploads/2015/10/3DoF-300x251.png","alt":"3DoF","position":{"start":{"line":61,"column":2,"offset":1842},"end":{"line":61,"column":74,"offset":1914},"indent":[]}}],"position":{"start":{"line":61,"column":1,"offset":1841},"end":{"line":61,"column":132,"offset":1972},"indent":[]}}],"position":{"start":{"line":61,"column":1,"offset":1841},"end":{"line":61,"column":132,"offset":1972},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"こういう画面が出ればOKです。","position":{"start":{"line":63,"column":1,"offset":1974},"end":{"line":63,"column":16,"offset":1989},"indent":[]}}],"position":{"start":{"line":63,"column":1,"offset":1974},"end":{"line":63,"column":16,"offset":1989},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"コードの補足説明","position":{"start":{"line":65,"column":5,"offset":1995},"end":{"line":65,"column":13,"offset":2003},"indent":[]}}],"position":{"start":{"line":65,"column":1,"offset":1991},"end":{"line":65,"column":13,"offset":2003},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Linkのパラメータですが、\nRevolute：指定すると回転軸不一致、指定しないとprismaticになって同じ軸で回転。\nr:質量中心の座標\na,alpha,d: DHパラメータ系の値。thetaはplotするときに指定すればよい\nrobot.plot:各関節の初期角度値を指定。figureで表示。plotやscatter3も同じfigで追加表示できる","position":{"start":{"line":67,"column":1,"offset":2005},"end":{"line":71,"column":62,"offset":2184},"indent":[1,1,1,1]}}],"position":{"start":{"line":67,"column":1,"offset":2005},"end":{"line":71,"column":62,"offset":2184},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"モデルの作り方のイメージは、\nひとつの関節の先端から継ぎ足して次の関節を生やしていく感じです。\n他にもいくつかロボットのモデルが予め用意されているので(ex: mdl","position":{"start":{"line":73,"column":1,"offset":2186},"end":{"line":75,"column":36,"offset":2269},"indent":[1,1]}},{"type":"emphasis","children":[{"type":"text","value":"baxter,mdl","position":{"start":{"line":75,"column":37,"offset":2270},"end":{"line":75,"column":47,"offset":2280},"indent":[]}}],"position":{"start":{"line":75,"column":36,"offset":2269},"end":{"line":75,"column":48,"offset":2281},"indent":[]}},{"type":"text","value":"naoなど)　それも見てみると非常に参考になるでしょう。","position":{"start":{"line":75,"column":48,"offset":2281},"end":{"line":75,"column":76,"offset":2309},"indent":[]}}],"position":{"start":{"line":73,"column":1,"offset":2186},"end":{"line":75,"column":76,"offset":2309},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"また、rvctools > robots > robot.pdf　が全てのマニュアルになってます（あんまり詳しくない）\n読んで調べれば大体分かるんですが分かりにくいので　次回、逆運動学などよく使う関数系の注意点などまとめてみます。","position":{"start":{"line":77,"column":1,"offset":2311},"end":{"line":78,"column":56,"offset":2426},"indent":[1]}}],"position":{"start":{"line":77,"column":1,"offset":2311},"end":{"line":78,"column":56,"offset":2426},"indent":[1]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":78,"column":56,"offset":2426}}}}